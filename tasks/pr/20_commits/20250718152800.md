# 実装差分レポート - PDF・音声処理時間表示対応

## 実装概要
analysis画面で動画処理時間以外にPDF、audioの処理時間も表示できるよう機能を拡張しました。

## 主な変更点

### 1. コンテンツタイプ別処理時間表示の実装
- **変更ファイル**: `src/components/pages/AnalyzePage.tsx`
- 動画専用だった処理時間表示をすべてのコンテンツタイプに対応
- コンテンツタイプに応じた動的ラベル表示機能を追加

### 2. 想定処理時間（概算）表示の改善
- **Before**: 「文字起こし速度」「※動画1分あたりの処理時間を表示」
- **After**: コンテンツタイプに応じて表示を変更
  - YouTube/Video: 「文字起こし速度」「※動画1分あたりの処理時間を表示」
  - PDF: 「文書解析速度」「※文書ページあたりの処理時間を表示」
  - Audio: 「文字起こし速度」「※音声1分あたりの処理時間を表示」

### 3. 実際の処理時間表示の改善
- **Before**: 固定で「📝 文字起こし」表示
- **After**: コンテンツタイプに応じて動的表示
  - YouTube/Video: 「📝 文字起こし」- YouTube字幕またはWhisper AI
  - PDF: 「📄 文書解析」- PDF解析
  - Audio: 「🎵 文字起こし」- Whisper AI

### 4. 処理時間データの正確な表示
- PDFの場合：`analysisTime.extraction` を使用
- YouTube/Audioの場合：`analysisTime.transcription` を使用
- すべてのコンテンツタイプで要約生成時間を正確に表示

## 実装された関数

### Helper Functions
```typescript
// コンテンツタイプに応じた注記文を返す
renderProcessingTimeNote(): string

// 第一段階処理のタイトルを返す（文字起こし/文書解析等）
getFirstStageTitle(): string  

// 第一段階処理の方法を返す（Whisper AI/PDF解析等）
getFirstStageMethod(): string

// 第一段階処理の実際の処理時間を返す
getFirstStageProcessingTime(): number | null

// 第一段階処理の速度ラベルを返す（文字起こし速度/文書解析速度等）
getFirstStageSpeedLabel(): string
```

## 技術的詳細

### コンテンツタイプ判定ロジック
1. `currentVideo.analysisType` から判定（分析結果がある場合）
2. `inputType` から判定（分析前の場合）
3. デフォルトは 'youtube' として処理

### 処理時間データ構造の対応
- **YouTube/Audio**: `analysisTime: { transcription, summary, total }`
- **PDF**: `analysisTime: { extraction, summary, total }`

### 表示の統一性
- 各コンテンツタイプで一貫したUI/UX
- アイコンと色分けによる視覚的な区別
- 単位表示の適切な変更（分/ページ等）

## 期待される効果

1. **包括的な処理時間表示**: すべてのコンテンツタイプで処理時間が確認可能
2. **ユーザー理解の向上**: コンテンツタイプごとに適切な説明表示
3. **一貫したUX**: 既存の動画処理時間表示と統一されたデザイン
4. **正確な情報提供**: 各処理段階の実際の時間を正確に表示

## 後方互換性
- 既存の動画処理時間表示機能は完全に保持
- 新しいコンテンツタイプに対しても自動的に適切な表示
- 従来のAPI応答形式との完全な互換性

この実装により、ユーザーは動画だけでなくPDFや音声ファイルの処理時間も同様に確認できるようになり、analysis画面の機能が大幅に向上しました。