# Issue #16 - æ–°è¦å‹•ç”»å‡¦ç†æ™‚ã®è§£ææ™‚é–“è¡¨ç¤ºä¸å…·åˆä¿®æ­£ (ã‚³ãƒŸãƒƒãƒˆ: 4469f23)

## ğŸ“‹ æ¦‚è¦

æ–°è¦å‹•ç”»å‡¦ç†æ™‚ã«è§£ææ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œãªã„å•é¡Œã‚’èª¿æŸ»ã—ã€æ ¹æœ¬åŸå› ã‚’ç‰¹å®šã—ã¦ä¿®æ­£ã—ã¾ã—ãŸã€‚å±¥æ­´ã‹ã‚‰ã®é·ç§»æ™‚ã¯æ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ãŒã€æ–°è¦å‡¦ç†æ™‚ã®ã¿è¡¨ç¤ºã•ã‚Œãªã„å•é¡Œã§ã—ãŸã€‚

## ğŸ› å•é¡Œã®è©³ç´°

### ç—‡çŠ¶
- **æ–°è¦å‹•ç”»å‡¦ç†**: è§£ææ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œãªã„
- **å±¥æ­´ã‹ã‚‰ã®é·ç§»**: è§£ææ™‚é–“ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹
- **è¡¨ç¤ºUI**: å®Ÿè£…æ¸ˆã¿ã§æ¡ä»¶åˆ†å²ã‚‚æ­£ã—ã„

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å ±å‘Š
> ã€Œè§£ææ™‚é–“ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ã§ã™ã€‚ã—ã£ã‹ã‚ŠåŸå› ã‚’èª¿æŸ»ã—ã¦ã€

## ğŸ” åŸå› èª¿æŸ»çµæœ

### 1. ã‚µãƒ¼ãƒãƒ¼å´ã®å®Ÿè£…çŠ¶æ³
âœ… **æ­£å¸¸**: è§£ææ™‚é–“ã®è¨˜éŒ²ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡ã¯æ­£ã—ãå®Ÿè£…æ¸ˆã¿

```typescript
// src/server.ts (è¡Œ899-1078)
const analysisStartTime = new Date().toISOString();
// ... å‡¦ç†å®Ÿè¡Œ ...
const analysisEndTime = new Date().toISOString();
const analysisDuration = Math.round((new Date(analysisEndTime).getTime() - new Date(analysisStartTime).getTime()) / 1000);
const analysisTimeInfo = {
  startTime: analysisStartTime,
  endTime: analysisEndTime,
  duration: analysisDuration
};

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«æ­£ã—ãå«ã¾ã‚Œã¦ã„ã‚‹
res.json({
  // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  analysisTime: analysisTimeInfo,
  metadata: {
    // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    analysisTime: analysisTimeInfo
  }
});
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¡¨ç¤ºUIã®å®Ÿè£…çŠ¶æ³
âœ… **æ­£å¸¸**: è§£ææ™‚é–“è¡¨ç¤ºUIã¯æ­£ã—ãå®Ÿè£…æ¸ˆã¿

```typescript
// src/components/pages/AnalyzePage.tsx (è¡Œ674-713)
{currentVideo.analysisTime && (
  <div>
    <h4 className="text-xs font-medium text-blue-700 mb-1 flex items-center gap-1">
      â±ï¸ è§£ææ™‚é–“
    </h4>
    <div className="space-y-0.5 text-xs">
      {/* é–‹å§‹æ™‚åˆ»ã€çµ‚äº†æ™‚åˆ»ã€æ‰€è¦æ™‚é–“ã®è¡¨ç¤º */}
    </div>
  </div>
)}
```

### 3. å±¥æ­´ã‹ã‚‰ã®é·ç§»å®Ÿè£…çŠ¶æ³
âœ… **æ­£å¸¸**: HistoryTableã¨DashboardPageã§æ­£ã—ãå®Ÿè£…æ¸ˆã¿

```typescript
// src/components/shared/HistoryTable.tsx (è¡Œ129)
const videoData = {
  // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  analysisTime: video.analysisTime  // æ­£ã—ãè¨­å®šæ¸ˆã¿
};

// src/components/pages/DashboardPage.tsx (è¡Œ152)
const videoData = {
  // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  analysisTime: video.analysisTime  // æ­£ã—ãè¨­å®šæ¸ˆã¿
};
```

### 4. æ ¹æœ¬åŸå› ã®ç‰¹å®š
âŒ **å•é¡Œç™ºè¦‹**: æ–°è¦å‡¦ç†æ™‚ã«analysisTimeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„

```typescript
// src/components/pages/AnalyzePage.tsx (ä¿®æ­£å‰)
const videoMetadata = {
  basic: { /* ... */ },
  chapters: data.metadata?.chapters || [],
  captions: data.metadata?.captions || [],
  stats: data.metadata?.stats || { /* ... */ },
  transcript: data.transcript,
  summary: data.summary,
  timestampedSegments: data.timestampedSegments || [],
  transcriptSource: data.method as 'subtitle' | 'whisper',
  costs: data.costs || { /* ... */ }
  // âŒ analysisTime: data.analysisTime ãŒä¸è¶³
};
```

## ğŸ”§ ä¿®æ­£å†…å®¹

### 1. æ¬ è½ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ 
```typescript
// src/components/pages/AnalyzePage.tsx (ä¿®æ­£å¾Œ)
const videoMetadata = {
  basic: { /* ... */ },
  chapters: data.metadata?.chapters || [],
  captions: data.metadata?.captions || [],
  stats: data.metadata?.stats || { /* ... */ },
  transcript: data.transcript,
  summary: data.summary,
  timestampedSegments: data.timestampedSegments || [],
  transcriptSource: data.method as 'subtitle' | 'whisper',
  costs: data.costs || { /* ... */ },
  analysisTime: data.analysisTime  // âœ… è¿½åŠ 
};
```

### 2. ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®è¿½åŠ 
è§£ææ™‚é–“ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã®ãƒ­ã‚°ã‚’è¿½åŠ ï¼š

```typescript
// ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡æ™‚
console.log('ğŸ•’ AnalyzePage: Server response analysis time:', data.analysisTime)
console.log('ğŸ•’ AnalyzePage: Metadata analysis time:', data.metadata?.analysisTime)

// videoMetadataæ§‹ç¯‰å¾Œ
console.log('ğŸ•’ AnalyzePage: Final videoMetadata analysis time:', videoMetadata.analysisTime)

// è¡¨ç¤ºæ¡ä»¶ãƒã‚§ãƒƒã‚¯æ™‚
console.log('ğŸ•’ AnalyzePage: Checking analysis time for display:', currentVideo.analysisTime)
```

## ğŸ“Š ä¿®æ­£å‰å¾Œã®å‹•ä½œæ¯”è¼ƒ

### ä¿®æ­£å‰ã®å‹•ä½œãƒ•ãƒ­ãƒ¼
```
æ–°è¦å‹•ç”»å‡¦ç†:
ã‚µãƒ¼ãƒãƒ¼ â†’ analysisTimeé€ä¿¡ â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å—ä¿¡ â†’ videoMetadataæ§‹ç¯‰(analysisTimeãªã—) â†’ è¡¨ç¤ºã•ã‚Œãªã„

å±¥æ­´é·ç§»:
å±¥æ­´ãƒ‡ãƒ¼ã‚¿ â†’ analysisTimeå«ã‚€ â†’ videoDataæ§‹ç¯‰(analysisTimeå«ã‚€) â†’ æ­£å¸¸è¡¨ç¤º
```

### ä¿®æ­£å¾Œã®å‹•ä½œãƒ•ãƒ­ãƒ¼
```
æ–°è¦å‹•ç”»å‡¦ç†:
ã‚µãƒ¼ãƒãƒ¼ â†’ analysisTimeé€ä¿¡ â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å—ä¿¡ â†’ videoMetadataæ§‹ç¯‰(analysisTimeå«ã‚€) â†’ âœ…æ­£å¸¸è¡¨ç¤º

å±¥æ­´é·ç§»:
å±¥æ­´ãƒ‡ãƒ¼ã‚¿ â†’ analysisTimeå«ã‚€ â†’ videoDataæ§‹ç¯‰(analysisTimeå«ã‚€) â†’ âœ…æ­£å¸¸è¡¨ç¤º
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆçµæœ

### 1. TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
- âœ… å‹ãƒã‚§ãƒƒã‚¯æˆåŠŸ
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- âœ… å‹ã‚¨ãƒ©ãƒ¼ãªã—

### 2. æ©Ÿèƒ½ç¢ºèªé …ç›®
- âœ… æ–°è¦å‹•ç”»å‡¦ç†æ™‚ã®è§£ææ™‚é–“è¡¨ç¤º
- âœ… å±¥æ­´é·ç§»æ™‚ã®è§£ææ™‚é–“è¡¨ç¤ºï¼ˆæ—¢å­˜æ©Ÿèƒ½ï¼‰
- âœ… è§£ææ™‚é–“ãƒ‡ãƒ¼ã‚¿ã®æ­£ç¢ºæ€§
- âœ… UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ•´åˆæ€§

### 3. ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã«ã‚ˆã‚‹å‹•ä½œç¢ºèª
- âœ… ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«è§£ææ™‚é–“ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã‚‹
- âœ… videoMetadataã«è§£ææ™‚é–“ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹
- âœ… è¡¨ç¤ºæ¡ä»¶ã®åˆ¤å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹

## ğŸ“ˆ å½±éŸ¿ç¯„å›²

### ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«
- **src/components/pages/AnalyzePage.tsx**: analysisTimeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ ã¨ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¿½åŠ 

### æ–°è¦æ©Ÿèƒ½
- **ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°**: è§£ææ™‚é–“ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’è¿½è·¡ã™ã‚‹åŒ…æ‹¬çš„ãªãƒ­ã‚°

### æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿
- **å±¥æ­´é·ç§»**: å½±éŸ¿ãªã—ï¼ˆæ—¢ã«æ­£å¸¸å‹•ä½œï¼‰
- **ã‚³ã‚¹ãƒˆè¡¨ç¤º**: å½±éŸ¿ãªã—
- **ãã®ä»–UI**: å½±éŸ¿ãªã—

## ğŸ¯ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### 1. æ©Ÿèƒ½å®Œæ•´æ€§ã®å®Ÿç¾
- **å®Œå…¨ãªè§£ææ™‚é–“è¡¨ç¤º**: æ–°è¦å‡¦ç†ãƒ»å±¥æ­´é·ç§»ã®ä¸¡æ–¹ã§æ­£å¸¸è¡¨ç¤º
- **ä¸€è²«ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**: å‡¦ç†æ–¹æ³•ã«é–¢ä¿‚ãªãåŒã˜æƒ…å ±ãŒè¡¨ç¤º

### 2. é€æ˜æ€§ã®å‘ä¸Š
- **å‡¦ç†æ™‚é–“ã®å¯è¦–åŒ–**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‡¦ç†æ€§èƒ½ã‚’æŠŠæ¡å¯èƒ½
- **ãƒ‡ãƒãƒƒã‚°èƒ½åŠ›ã®å¼·åŒ–**: å•é¡Œç™ºç”Ÿæ™‚ã®è¿…é€ŸãªåŸå› ç‰¹å®š

### 3. å“è³ªä¿è¨¼ã®å¼·åŒ–
- **ãƒ‡ãƒ¼ã‚¿å®Œæ•´æ€§**: ã™ã¹ã¦ã®å‡¦ç†ã§å®Œå…¨ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›
- **äºˆé˜²çš„å“è³ªç®¡ç†**: ãƒ­ã‚°ã«ã‚ˆã‚‹å‹•ä½œçŠ¶æ³ã®ç›£è¦–

## ğŸ” å­¦ç¿’ãƒ»æ”¹å–„ç‚¹

### 1. å•é¡Œã®æ€§è³ª
- **éƒ¨åˆ†çš„ãªå®Ÿè£…ä¸å‚™**: ä¸€éƒ¨ã®å‡¦ç†ãƒ‘ã‚¹ã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ¬ è½
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®èª²é¡Œ**: æ–°è¦å‡¦ç†ã¨å±¥æ­´é·ç§»ã®ä¸¡æ–¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å¿…è¦æ€§

### 2. ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•ã®æœ‰åŠ¹æ€§
- **ç³»çµ±çš„èª¿æŸ»**: ã‚µãƒ¼ãƒãƒ¼â†’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰â†’è¡¨ç¤ºã®å„æ®µéšã‚’é †æ¬¡ç¢ºèª
- **ãƒ­ã‚°ãƒ™ãƒ¼ã‚¹è¿½è·¡**: ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’å¯è¦–åŒ–ã™ã‚‹ã“ã¨ã§å•é¡Œç®‡æ‰€ã‚’ç‰¹å®š

### 3. ä»Šå¾Œã®äºˆé˜²ç­–
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã®çµ±ä¸€**: å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ä¸€è²«ã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ 
- **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã®æ–‡æ›¸åŒ–**: ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰UIè¡¨ç¤ºã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒãƒƒãƒ”ãƒ³ã‚°

## ğŸš€ ä»Šå¾Œã®å±•é–‹

### 1. çŸ­æœŸçš„æ”¹å–„
- **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´**: æœ¬ç•ªç’°å¢ƒã§ã®ãƒ­ã‚°å‡ºåŠ›ãƒ¬ãƒ™ãƒ«æœ€é©åŒ–
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: è§£ææ™‚é–“ãƒ‡ãƒ¼ã‚¿ä¸æ­£æ™‚ã®é©åˆ‡ãªå‡¦ç†

### 2. ä¸­é•·æœŸçš„æ”¹å–„
- **è‡ªå‹•ãƒ†ã‚¹ãƒˆ**: æ–°è¦å‡¦ç†ã¨å±¥æ­´é·ç§»ã®ä¸¡æ–¹ã‚’ç¶²ç¾…ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
- **å‹å®‰å…¨æ€§**: TypeScriptã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã‚’å³å¯†ã«å‹å®šç¾©

### 3. é‹ç”¨ç›£è¦–
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: è§£ææ™‚é–“ã®çµ±è¨ˆæƒ…å ±åé›†
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**: å‡¦ç†æ™‚é–“ã®æ¨ç§»ç›£è¦–

ã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€è§£ææ™‚é–“è¡¨ç¤ºæ©Ÿèƒ½ãŒå®Œå…¨ã«å‹•ä½œã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å‡¦ç†æ–¹æ³•ã«é–¢ä¿‚ãªãä¸€è²«ã—ãŸæƒ…å ±ã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚