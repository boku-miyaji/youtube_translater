# Commit Summary: PDF Detailed Per-Page Rationale

**Commit Hash**: 58ec59c
**Date**: 2025-10-24 22:25:43
**Type**: feat

## 概要

PDF URLの推定詳細根拠に、動画と同様のページ単位の詳細な計算説明を追加しました。

## 問題

- PDF URLでは推定コストと時間が表示されるようになった（前回の実装）
- しかし、詳細根拠に動画のような「X分 × Y秒/分 = Z秒」のような計算式がなかった
- ユーザーがどのように計算されているかが分かりにくかった

## 実装内容

### コスト内訳の強化

**Before**:
```
文字起こし: $0.0000
要約生成: $0.0012
合計: $0.0012
  → 1ページあたり: 約$0.000120
```

**After**:
```
文字起こし: $0.0000
要約生成: $0.0012
  → 1ページあたり: 約$0.000120
合計: $0.0012
  → 1ページあたり: 約$0.000120

このPDF (10ページ) の場合:
10ページ × $0.000120/ページ = $0.0012 (要約)
合計: $0.0012
```

### 処理時間内訳の強化

**Before**:
```
テキスト抽出: 15秒
  → 1ページあたり: 1.5秒
要約生成: 48秒
  → 1ページあたり: 4.8秒
合計: 1分3秒

テキスト抽出: 24% | 要約生成: 76%
```

**After**:
```
テキスト抽出: 15秒
  → 1ページあたり: 1.5秒
要約生成: 48秒
  → 1ページあたり: 4.8秒
合計: 1分3秒

このPDF (10ページ) の場合:
10ページ × 1.5秒/ページ = 15秒 (テキスト抽出)
10ページ × 4.8秒/ページ = 48秒 (要約)
合計: 1分3秒

テキスト抽出: 24% | 要約生成: 76%
```

## 変更の詳細

### 変更されたファイル
- `src/components/pages/AnalyzePage.tsx`: 15行の変更（+13, -2）

### 主な追加機能
1. **コスト内訳**:
   - 要約コストの1ページあたり料金を表示
   - 「このPDF (Xページ) の場合:」ヘッダーを追加
   - ページ数 × 単価 = 合計コスト の計算式を表示

2. **処理時間内訳**:
   - 「このPDF (Xページ) の場合:」ヘッダーを追加
   - テキスト抽出と要約のそれぞれの計算式を表示
   - ページ数 × 処理時間/ページ = 合計時間 の形式

## 動画との一貫性

動画の場合と同じフォーマットで表示:
- 動画: "この動画 (10分) の場合: 10分 × 12.0秒/分 = 2分"
- PDF: "このPDF (10ページ) の場合: 10ページ × 1.5秒/ページ = 15秒"

## テスト結果

- ✅ TypeScript型チェック通過
- ✅ ビルド成功

## 影響範囲

- PDF URL入力時の詳細根拠表示がより分かりやすく
- 動画とPDFで一貫したフォーマット
- 既存機能への影響なし
